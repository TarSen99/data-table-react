(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),l=(n(18),n(2)),i=n(3),s=n(6),u=n(7),h=n(10),d=n(8),m=n(11),g=function(e){return r.a.createElement("div",{className:"header__input"},r.a.createElement("input",{type:"text",onChange:e.onFilterInput,placeholder:"search..."}))},f=n(1),p=n.n(f),v=function(e){var t=e.handleSelectedButtonClick,n=e.showSelectedButtonIsActive;return r.a.createElement("div",{className:"header__buttons"},r.a.createElement("button",{className:p()("button",{"button-active":!1===n}),onClick:function(){return t(!1)}},"Show all"),r.a.createElement("button",{className:p()("button",{"button-active":!0===n}),onClick:function(){return t(!0)}},"Show selected"))},k=function(e){var t=e.onFilterInput,n=e.handleSelectedButtonClick,a=e.showSelectedButtonIsActive;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__content"},r.a.createElement("div",{className:"header__logo"},"phones.ua"),r.a.createElement(g,{onFilterInput:t}),r.a.createElement(v,{handleSelectedButtonClick:n,showSelectedButtonIsActive:a}))))},b=n(9),C=function(e){var t=e.handlePaginationSelector,n=e.perPage;return r.a.createElement("div",{className:"pagination__selector"},r.a.createElement("select",{onChange:t,value:n},r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20")))},E=function e(t){var n=t.checkedAll,a=t.handleCheckAll,c=t.phones,o=t.handleOrderClick,l=t.togglePhoneCheckbox,i=t.config,s=t.handlePaginationSelector,u=t.perPage;return r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"main__table"},r.a.createElement(e.Header,{checkedAll:n,handlePaginationSelector:s,config:i,handleOrderClick:o,perPage:u,handleCheckAll:a}),r.a.createElement(e.Content,{config:i,phones:c,togglePhoneCheckbox:l}))))};E.Content=function(e){return r.a.createElement("tbody",null,e.phones.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",null,r.a.createElement("input",{type:"checkbox",checked:t.isChecked,onChange:function(){return e.togglePhoneCheckbox(t.id)}})),Object.keys(e.config).map(function(n){return r.a.createElement("td",{key:n},e.config[n].hasImage?r.a.createElement("img",{src:"".concat("https://raw.githubusercontent.com/TarSen99/DataTableComponent/master/").concat(t[n]),alt:""}):t[n])}))}))},E.Header=function(e){var t=e.checkedAll,n=e.handlePaginationSelector,a=e.config,c=e.handleOrderClick,o=e.perPage,l=e.handleCheckAll;return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("input",{type:"checkbox",onChange:l,checked:t}),r.a.createElement(C,{handlePaginationSelector:n,perPage:o})),Object.entries(a).map(function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1],o=p()({"main__table-sortable":a.isSortable});return r.a.createElement("th",{key:n,className:o,onClick:a.isSortable?function(){return c(n)}:null},a.title)})))};var P=E,S=function(e){var t=e.totalPhonesCount,n=e.currentPage,a=e.perPage,c=e.handleClick,o=function(e,t){var a=n+e;a=Math.max(0,a),(a=Math.min(t-1,a))!==n&&c(a)},l=Math.ceil(t/a),i=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}(l),s=Math.min(n*a+1,t),u=Math.min(n*a+a,t);return r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"pagination__block"},r.a.createElement("div",{className:"pagination__text"},r.a.createElement("span",{className:"pagination__current-items"},"".concat(s," - ").concat(u," ")),"of",r.a.createElement("span",{className:"pagination__total-items"}," ".concat(t))),r.a.createElement("div",{className:"pagination__buttons"},r.a.createElement("button",{onClick:function(){return o(-1,l)},className:"pagination__arrow button",disabled:0===n},"<"),i.map(function(e){var t=p()("button",{"button-active":e===n});return r.a.createElement("button",{key:e,onClick:function(){return c(e)},className:t},e+1)}),r.a.createElement("button",{onClick:function(){return o(1,l)},className:"pagination__arrow button",disabled:n===Math.max(l-1,0)},">")))))},y={imageUrl:{hasImage:!0},name:{title:"Name",isSortable:!0,isSearchable:!0},snippet:{title:"Description",isSearchable:!0},age:{title:"Age",isSortable:!0}},w=(n(19),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={phones:[],order:"DESC",orderBy:"",filterValue:"",currentPage:0,perPage:3,showSelected:!1},n.togglePhoneCheckbox=function(e){var t=Object(i.a)(n.state.phones),a=t.findIndex(function(t){return t.id===e});t[a]=Object(l.a)({},t[a],{isChecked:!t[a].isChecked}),n.setState({phones:t})},n.onOrderInput=function(e){var t=n.state.orderBy===e?n.getNewOrder():n.state.order;n.setState({order:t,orderBy:e})},n.onFilterInput=function(e){var t=e.target.value;n.setState({currentPage:0,filterValue:t})},n.selectPage=function(e){n.setState({currentPage:e})},n.handlePaginationSelector=function(e){var t=e.target.value;n.setState({currentPage:0,perPage:t})},n.handleSelectedButtonClick=function(e){n.setState({currentPage:0,showSelected:e})},n.handleCheckAll=function(e){var t=e.target.checked,a=n.getFilteredPhones(),r=Object(i.a)(n.getCurrentPagePhones(a)).map(function(e){return Object(l.a)({},e,{isChecked:t})}),c=Object(i.a)(n.state.phones);r.forEach(function(e){var t=e.id,n=e.isChecked,a=c.findIndex(function(e){return e.id===t});c[a]=Object(l.a)({},c[a],{isChecked:n})}),n.setState({phones:c})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mate-academy.github.io/phone-catalogue-static/phones/phones.json").then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){return Object(l.a)({},e,{isChecked:!1})});e.setState({phones:n,filteredPhones:n})})}},{key:"getNewOrder",value:function(){return"ASC"===this.state.order?"DESC":"ASC"}},{key:"sortItems",value:function(e,t,n){return e.sort(function(e,a){return"ASC"===n?e[t]>a[t]?1:-1:e[t]>a[t]?-1:1})}},{key:"getSearchableParams",value:function(e){var t=[];for(var n in e){if(!e.hasOwnProperty(n))return;y[n].isSearchable&&t.push(n)}return t}},{key:"getFilteredPhones",value:function(){var e=this.state,t=e.phones,n=e.filterValue,a=e.orderBy,r=e.order,c=n.toLowerCase(),o=this.getSearchableParams(y),l=t.filter(function(e){var t=!0,n=!1,a=void 0;try{for(var r,l=o[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){if(e[r.value].toLowerCase().includes(c))return!0}}catch(i){n=!0,a=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}return!1}),i=this.filterBySelection(l);return this.sortItems(i,a,r)}},{key:"filterBySelection",value:function(e){var t=this;return!1===this.state.showSelected?e:e.filter(function(e){return e.isChecked===t.state.showSelected})}},{key:"getCurrentPagePhones",value:function(e){var t=this.state,n=t.currentPage,a=t.perPage;return e.filter(function(e,t){return t>=n*a&&t<n*a+a})}},{key:"checkAllButtonsSelection",value:function(e){return e.every(function(e){return!0===e.isChecked})}},{key:"render",value:function(){var e=this.getFilteredPhones(),t=this.getCurrentPagePhones(e),n=this.checkAllButtonsSelection(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{onFilterInput:this.onFilterInput,handleSelectedButtonClick:this.handleSelectedButtonClick,showSelectedButtonIsActive:this.state.showSelected}),r.a.createElement(P,{perPage:this.state.perPage,handlePaginationSelector:this.handlePaginationSelector,config:y,phones:t,togglePhoneCheckbox:this.togglePhoneCheckbox,handleOrderClick:this.onOrderInput,handleCheckAll:this.handleCheckAll,checkedAll:n}),r.a.createElement(S,{totalPhonesCount:e.length,currentPage:this.state.currentPage,perPage:this.state.perPage,handleClick:this.selectPage}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.4d463a2e.chunk.js.map